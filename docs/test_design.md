# 测试设计文档（Test Design）

---

# 1.功能模块划分

系统被拆分为以下三个核心功能模块：

1. 访客预约（visitor booking）
2. 审批处理（admin approval）
3. 门禁校验（gate validation）

每个模块分别进行等价类、边界值和判定表的测试设计。

---

# 2. 等价类分析

## 2.1 访客预约输入项等价类

| 输入项 | 有效等价类 | 无效等价类 |
|--------|-------------|-------------|
| 访客姓名 | 非空字符串 | 空、空格 |
| 身份证号 | 任意长度>0 字符串 | 空、包含非法符号 |
| 被访人 | 非空字符串 | 空 |
| 时间段 | 开始 < 结束 | 开始 ≥ 结束 |

---

# 3. 边界值分析

## 3.1 时间窗口边界

| 测试项 | 输入 | 期望 |
|--------|------|-------|
| 时间正好等于开始时间 | now = start | 允许进入 |
| 时间正好等于结束时间 | now = end | 允许进入 |
| 超过结束时间 1 分钟 | now = end+1min | 拒绝进入 |

---

# 4. 判定表设计（门禁规则）

决策条件：

- C1：访客码是否存在
- C2：状态是否为 APPROVED
- C3：是否在时间窗口内
- C4：是否在黑名单

动作：

- A1：允许进入
- A2：拒绝进入（原因不同）

| 规则 | C1 | C2 | C3 | C4 | 结果 |
|------|----|----|----|----|--------|
| R1 | T | T | T | F | 允许进入 |
| R2 | F | - | - | - | 拒绝：不存在 |
| R3 | T | F | - | - | 拒绝：未审批 |
| R4 | T | T | F | - | 拒绝：不在时间范围 |
| R5 | T | T | T | T | 拒绝：黑名单 |



