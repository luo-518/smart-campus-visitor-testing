# 门禁校验模块测试用例（共 25 条）

| 编号 | 测试标题 | 前置条件 | 输入 | 期望 |
|-----|----------|----------|------|------|
| GA01 | 正常进入 | 已审批 | visitor_code 有效 | 允许进入 |
| GA02 | 访客码不存在 | 无 | 随机字符串 | 拒绝：不存在 |
| GA03 | 访客未审批 | 状态=PENDING | visitor_code | 拒绝：未审批 |
| GA04 | 审批被拒绝 | 状态=REJECTED | visitor_code | 拒绝 |
| GA05 | 当前时间 < 开始时间 | 状态=APPROVED | 提前30分钟 | 拒绝 |
| GA06 | 当前时间 > 结束时间 | 状态=APPROVED | 过期1分钟 | 拒绝 |
| GA07 | 当前时间=开始时间 | 状态=APPROVED | now=start | 允许 |
| GA08 | 当前时间=结束时间 | 状态=APPROVED | now=end | 允许 |
| GA09 | 黑名单访客 | 访客=张三 | code | 拒绝：黑名单 |
| GA10 | 访客姓名特殊字符 | 正常 | code | 正常验证 |
| GA11 | 多次重复扫码 | 有效 | 连续扫码 | 第一次允许，其余仍允许 |
| GA12 | 输入为空 | 无 | "" | 提示错误 |
| GA13 | 输入空格 | 无 | "  " | 视为不存在 |
| GA14 | 输入超长 code | 无 | 长度100 | 不存在 |
| GA15 | 未提交表单直接访问 | 无 | - | 正常展示 |
| GA16 | 浏览器后退行为 | 成功后返回 | - | 不重复验证 |
| GA17 | 访客码大小写敏感 | code=abc123 | 输入 ABC123 | 不存在 |
| GA18 | 时间跨天场景 | start<end 跨日期 | 正常判断 |
| GA19 | 多预约并存 | 存多条记录 | code 匹配正确记录 |
| GA20 | 输入特殊符号 | "@@@@" | 不存在 |
| GA21 | 当前服务器时间变更 | 手动改时间 | 按新时间判断 |
| GA22 | 并发两人同码（理论） | 模拟重复创建 | 都失败 |
| GA23 | 多访客同名不同码 | 张三 | 区分正确记录 |
| GA24 | 门禁页面 refresh | 刷新 | 不重复验证 |
| GA25 | 多浏览器访问一致性 | chrome+edge | 行为一致 |

